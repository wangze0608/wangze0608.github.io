{"version":3,"sources":["../../../../../vue/qctt/src/plugins/iscroll.js"],"names":["window","document","Math","rAF","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","utils","me","_elementStyle","createElement","style","_vendor","vendors","transform","i","l","length","substr","_prefixStyle","charAt","toUpperCase","getTime","Date","now","extend","target","obj","addEvent","el","type","fn","capture","addEventListener","removeEvent","removeEventListener","prefixPointerEvent","pointerEvent","MSPointerEvent","momentum","current","start","time","lowerMargin","wrapperSize","deceleration","distance","speed","abs","destination","duration","undefined","round","_transform","hasTransform","hasPerspective","hasTouch","hasPointer","PointerEvent","hasTransition","isBadAndroid","appVersion","navigator","test","safariVersion","match","parseFloat","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","touchAction","hasClass","e","c","re","RegExp","className","addClass","newclass","split","push","join","removeClass","replace","offset","left","offsetLeft","top","offsetTop","offsetParent","preventDefaultException","exceptions","eventType","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","pointerdown","pointermove","pointerup","MSPointerDown","MSPointerMove","MSPointerUp","ease","quadratic","k","circular","sqrt","back","b","bounce","elastic","f","pow","sin","PI","tap","eventName","ev","createEvent","initEvent","pageX","pageY","dispatchEvent","click","tagName","MouseEvent","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","_constructed","getTouchAction","eventPassthrough","addPinch","getRect","SVGElement","rect","getBoundingClientRect","width","height","offsetWidth","offsetHeight","IScroll","options","wrapper","querySelector","scroller","children","scrollerStyle","resizeScrollbars","mouseWheelSpeed","snapThreshold","disablePointer","disableTouch","disableMouse","startX","startY","scrollY","directionLockThreshold","bounceTime","bounceEasing","preventDefault","HWCompositing","useTransition","useTransform","bindToWrapper","onmousedown","translateZ","scrollX","freeScroll","resizePolling","position","shrinkScrollbars","invertWheelDirection","x","y","directionX","directionY","_events","_init","refresh","scrollTo","enable","prototype","version","_initEvents","scrollbars","indicators","_initIndicators","mouseWheel","_initWheel","snap","_initSnap","keyBindings","_initKeys","destroy","clearTimeout","resizeTimeout","_execEvent","_transitionEnd","isInTransition","_transitionTime","resetPosition","_start","which","enabled","initiated","point","touches","pos","moved","distX","distY","directionLocked","startTime","getComputedPosition","_translate","isAnimating","absStartX","absStartY","pointX","pointY","_move","deltaX","deltaY","timestamp","newX","newY","absDistX","absDistY","endTime","hasHorizontalScroll","hasVerticalScroll","maxScrollX","maxScrollY","_end","changedTouches","momentumX","momentumY","distanceX","distanceY","easing","flick","wrapperWidth","wrapperHeight","max","_nearestSnap","currentPage","snapSpeed","min","_resize","that","disable","clientWidth","clientHeight","scrollerWidth","scrollerHeight","wrapperOffset","on","off","index","indexOf","splice","apply","slice","call","arguments","scrollBy","transitionType","_transitionTimingFunction","_animate","scrollToElement","offsetX","offsetY","nodeType","elRect","wrapperRect","durationProp","self","transitionTime","updatePosition","remove","matrix","getComputedStyle","interactive","interactiveScrollbars","customStyle","indicator","createDefaultScrollbar","defaultScrollbars","resize","shrink","fade","fadeScrollbars","listenX","appendChild","listenY","concat","Indicator","_indicatorsMap","wheelTimeout","_wheel","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","goToPage","querySelectorAll","m","n","cx","cy","stepX","snapStepX","stepY","snapStepY","pages","snapThresholdX","snapThresholdY","posX","posY","next","prev","keys","pageUp","pageDown","end","home","up","right","down","charCodeAt","_key","prevTime","keyTime","acceleration","keyAcceleration","keyCode","destX","destY","easingFn","destTime","step","handleEvent","stopPropagation","direction","scrollbar","cssText","pointerEvents","wrapperStyle","indicatorStyle","speedRatioX","speedRatioY","sizeRatioX","sizeRatioY","maxPosX","maxPosY","opacity","fadeTimeout","parentNode","removeChild","lastPointX","lastPointY","_pos","display","bottom","indicatorWidth","minBoundaryX","maxBoundaryX","indicatorHeight","minBoundaryY","maxBoundaryY","ignoreBoundaries","val","hold","visible","delay","bind","module","exports","define","amd"],"mappings":"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","file":"iscroll.js","sourcesContent":["/*! iScroll v5.2.0-snapshot ~ (c) 2008-2017 Matteo Spinelli ~ http://cubiq.org/license */\n(function (window, document, Math) {\nvar rAF = window.requestAnimationFrame\t||\n\twindow.webkitRequestAnimationFrame\t||\n\twindow.mozRequestAnimationFrame\t\t||\n\twindow.oRequestAnimationFrame\t\t||\n\twindow.msRequestAnimationFrame\t\t||\n\tfunction (callback) { window.setTimeout(callback, 1000 / 60); };\n\nvar utils = (function () {\n\tvar me = {};\n\n\tvar _elementStyle = document.createElement('div').style;\n\tvar _vendor = (function () {\n\t\tvar vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT'],\n\t\t\ttransform,\n\t\t\ti = 0,\n\t\t\tl = vendors.length;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\ttransform = vendors[i] + 'ransform';\n\t\t\tif ( transform in _elementStyle ) return vendors[i].substr(0, vendors[i].length-1);\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tfunction _prefixStyle (style) {\n\t\tif ( _vendor === false ) return false;\n\t\tif ( _vendor === '' ) return style;\n\t\treturn _vendor + style.charAt(0).toUpperCase() + style.substr(1);\n\t}\n\n\tme.getTime = Date.now || function getTime () { return new Date().getTime(); };\n\n\tme.extend = function (target, obj) {\n\t\tfor ( var i in obj ) {\n\t\t\ttarget[i] = obj[i];\n\t\t}\n\t};\n\n\tme.addEvent = function (el, type, fn, capture) {\n\t\tel.addEventListener(type, fn, !!capture);\n\t};\n\n\tme.removeEvent = function (el, type, fn, capture) {\n\t\tel.removeEventListener(type, fn, !!capture);\n\t};\n\n\tme.prefixPointerEvent = function (pointerEvent) {\n\t\treturn window.MSPointerEvent ?\n\t\t\t'MSPointer' + pointerEvent.charAt(7).toUpperCase() + pointerEvent.substr(8):\n\t\t\tpointerEvent;\n\t};\n\n\tme.momentum = function (current, start, time, lowerMargin, wrapperSize, deceleration) {\n\t\tvar distance = current - start,\n\t\t\tspeed = Math.abs(distance) / time,\n\t\t\tdestination,\n\t\t\tduration;\n\n\t\tdeceleration = deceleration === undefined ? 0.0006 : deceleration;\n\n\t\tdestination = current + ( speed * speed ) / ( 2 * deceleration ) * ( distance < 0 ? -1 : 1 );\n\t\tduration = speed / deceleration;\n\n\t\tif ( destination < lowerMargin ) {\n\t\t\tdestination = wrapperSize ? lowerMargin - ( wrapperSize / 2.5 * ( speed / 8 ) ) : lowerMargin;\n\t\t\tdistance = Math.abs(destination - current);\n\t\t\tduration = distance / speed;\n\t\t} else if ( destination > 0 ) {\n\t\t\tdestination = wrapperSize ? wrapperSize / 2.5 * ( speed / 8 ) : 0;\n\t\t\tdistance = Math.abs(current) + destination;\n\t\t\tduration = distance / speed;\n\t\t}\n\n\t\treturn {\n\t\t\tdestination: Math.round(destination),\n\t\t\tduration: duration\n\t\t};\n\t};\n\n\tvar _transform = _prefixStyle('transform');\n\n\tme.extend(me, {\n\t\thasTransform: _transform !== false,\n\t\thasPerspective: _prefixStyle('perspective') in _elementStyle,\n\t\thasTouch: 'ontouchstart' in window,\n\t\thasPointer: !!(window.PointerEvent || window.MSPointerEvent), // IE10 is prefixed\n\t\thasTransition: _prefixStyle('transition') in _elementStyle\n\t});\n\n\t/*\n\tThis should find all Android browsers lower than build 535.19 (both stock browser and webview)\n\t- galaxy S2 is ok\n    - 2.3.6 : `AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1`\n    - 4.0.4 : `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S3 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S4 is badAndroid (stock brower, webview)\n     `AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30`\n   - galaxy S5 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n   - galaxy S6 is OK\n     `AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Mobile Safari/537.36 (Chrome/)`\n  */\n\tme.isBadAndroid = (function() {\n\t\tvar appVersion = window.navigator.appVersion;\n\t\t// Android browser is not a chrome browser.\n\t\tif (/Android/.test(appVersion) && !(/Chrome\\/\\d/.test(appVersion))) {\n\t\t\tvar safariVersion = appVersion.match(/Safari\\/(\\d+.\\d)/);\n\t\t\tif(safariVersion && typeof safariVersion === \"object\" && safariVersion.length >= 2) {\n\t\t\t\treturn parseFloat(safariVersion[1]) < 535.19;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t})();\n\n\tme.extend(me.style = {}, {\n\t\ttransform: _transform,\n\t\ttransitionTimingFunction: _prefixStyle('transitionTimingFunction'),\n\t\ttransitionDuration: _prefixStyle('transitionDuration'),\n\t\ttransitionDelay: _prefixStyle('transitionDelay'),\n\t\ttransformOrigin: _prefixStyle('transformOrigin'),\n\t\ttouchAction: _prefixStyle('touchAction')\n\t});\n\n\tme.hasClass = function (e, c) {\n\t\tvar re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\");\n\t\treturn re.test(e.className);\n\t};\n\n\tme.addClass = function (e, c) {\n\t\tif ( me.hasClass(e, c) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar newclass = e.className.split(' ');\n\t\tnewclass.push(c);\n\t\te.className = newclass.join(' ');\n\t};\n\n\tme.removeClass = function (e, c) {\n\t\tif ( !me.hasClass(e, c) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar re = new RegExp(\"(^|\\\\s)\" + c + \"(\\\\s|$)\", 'g');\n\t\te.className = e.className.replace(re, ' ');\n\t};\n\n\tme.offset = function (el) {\n\t\tvar left = -el.offsetLeft,\n\t\t\ttop = -el.offsetTop;\n\n\t\t// jshint -W084\n\t\twhile (el = el.offsetParent) {\n\t\t\tleft -= el.offsetLeft;\n\t\t\ttop -= el.offsetTop;\n\t\t}\n\t\t// jshint +W084\n\n\t\treturn {\n\t\t\tleft: left,\n\t\t\ttop: top\n\t\t};\n\t};\n\n\tme.preventDefaultException = function (el, exceptions) {\n\t\tfor ( var i in exceptions ) {\n\t\t\tif ( exceptions[i].test(el[i]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tme.extend(me.eventType = {}, {\n\t\ttouchstart: 1,\n\t\ttouchmove: 1,\n\t\ttouchend: 1,\n\n\t\tmousedown: 2,\n\t\tmousemove: 2,\n\t\tmouseup: 2,\n\n\t\tpointerdown: 3,\n\t\tpointermove: 3,\n\t\tpointerup: 3,\n\n\t\tMSPointerDown: 3,\n\t\tMSPointerMove: 3,\n\t\tMSPointerUp: 3\n\t});\n\n\tme.extend(me.ease = {}, {\n\t\tquadratic: {\n\t\t\tstyle: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n\t\t\tfn: function (k) {\n\t\t\t\treturn k * ( 2 - k );\n\t\t\t}\n\t\t},\n\t\tcircular: {\n\t\t\tstyle: 'cubic-bezier(0.1, 0.57, 0.1, 1)',\t// Not properly \"circular\" but this looks better, it should be (0.075, 0.82, 0.165, 1)\n\t\t\tfn: function (k) {\n\t\t\t\treturn Math.sqrt( 1 - ( --k * k ) );\n\t\t\t}\n\t\t},\n\t\tback: {\n\t\t\tstyle: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n\t\t\tfn: function (k) {\n\t\t\t\tvar b = 4;\n\t\t\t\treturn ( k = k - 1 ) * k * ( ( b + 1 ) * k + b ) + 1;\n\t\t\t}\n\t\t},\n\t\tbounce: {\n\t\t\tstyle: '',\n\t\t\tfn: function (k) {\n\t\t\t\tif ( ( k /= 1 ) < ( 1 / 2.75 ) ) {\n\t\t\t\t\treturn 7.5625 * k * k;\n\t\t\t\t} else if ( k < ( 2 / 2.75 ) ) {\n\t\t\t\t\treturn 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;\n\t\t\t\t} else if ( k < ( 2.5 / 2.75 ) ) {\n\t\t\t\t\treturn 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;\n\t\t\t\t} else {\n\t\t\t\t\treturn 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\telastic: {\n\t\t\tstyle: '',\n\t\t\tfn: function (k) {\n\t\t\t\tvar f = 0.22,\n\t\t\t\t\te = 0.4;\n\n\t\t\t\tif ( k === 0 ) { return 0; }\n\t\t\t\tif ( k == 1 ) { return 1; }\n\n\t\t\t\treturn ( e * Math.pow( 2, - 10 * k ) * Math.sin( ( k - f / 4 ) * ( 2 * Math.PI ) / f ) + 1 );\n\t\t\t}\n\t\t}\n\t});\n\n\tme.tap = function (e, eventName) {\n\t\tvar ev = document.createEvent('Event');\n\t\tev.initEvent(eventName, true, true);\n\t\tev.pageX = e.pageX;\n\t\tev.pageY = e.pageY;\n\t\te.target.dispatchEvent(ev);\n\t};\n\n\tme.click = function (e) {\n\t\tvar target = e.target,\n\t\t\tev;\n\n\t\tif ( !(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName) ) {\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/initMouseEvent\n\t\t\t// initMouseEvent is deprecated.\n\t\t\tev = document.createEvent(window.MouseEvent ? 'MouseEvents' : 'Event');\n\t\t\tev.initEvent('click', true, true);\n\t\t\tev.view = e.view || window;\n\t\t\tev.detail = 1;\n\t\t\tev.screenX = target.screenX || 0;\n\t\t\tev.screenY = target.screenY || 0;\n\t\t\tev.clientX = target.clientX || 0;\n\t\t\tev.clientY = target.clientY || 0;\n\t\t\tev.ctrlKey = !!e.ctrlKey;\n\t\t\tev.altKey = !!e.altKey;\n\t\t\tev.shiftKey = !!e.shiftKey;\n\t\t\tev.metaKey = !!e.metaKey;\n\t\t\tev.button = 0;\n\t\t\tev.relatedTarget = null;\n\t\t\tev._constructed = true;\n\t\t\ttarget.dispatchEvent(ev);\n\t\t}\n\t};\n\n\tme.getTouchAction = function(eventPassthrough, addPinch) {\n\t\tvar touchAction = 'none';\n\t\tif ( eventPassthrough === 'vertical' ) {\n\t\t\ttouchAction = 'pan-y';\n\t\t} else if (eventPassthrough === 'horizontal' ) {\n\t\t\ttouchAction = 'pan-x';\n\t\t}\n\t\tif (addPinch && touchAction != 'none') {\n\t\t\t// add pinch-zoom support if the browser supports it, but if not (eg. Chrome <55) do nothing\n\t\t\ttouchAction += ' pinch-zoom';\n\t\t}\n\t\treturn touchAction;\n\t};\n\n\tme.getRect = function(el) {\n\t\tif (el instanceof SVGElement) {\n\t\t\tvar rect = el.getBoundingClientRect();\n\t\t\treturn {\n\t\t\t\ttop : rect.top,\n\t\t\t\tleft : rect.left,\n\t\t\t\twidth : rect.width,\n\t\t\t\theight : rect.height\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttop : el.offsetTop,\n\t\t\t\tleft : el.offsetLeft,\n\t\t\t\twidth : el.offsetWidth,\n\t\t\t\theight : el.offsetHeight\n\t\t\t};\n\t\t}\n\t};\n\n\treturn me;\n})();\nfunction IScroll (el, options) {\n\tthis.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\n\tthis.scroller = this.wrapper.children[0];\n\tthis.scrollerStyle = this.scroller.style;\t\t// cache style for better performance\n\n\tthis.options = {\n\n\t\tresizeScrollbars: true,\n\n\t\tmouseWheelSpeed: 20,\n\n\t\tsnapThreshold: 0.334,\n\n// INSERT POINT: OPTIONS\n\t\tdisablePointer : !utils.hasPointer,\n\t\tdisableTouch : utils.hasPointer || !utils.hasTouch,\n\t\tdisableMouse : utils.hasPointer || utils.hasTouch,\n\t\tstartX: 0,\n\t\tstartY: 0,\n\t\tscrollY: true,\n\t\tdirectionLockThreshold: 5,\n\t\tmomentum: true,\n\n\t\tbounce: true,\n\t\tbounceTime: 600,\n\t\tbounceEasing: '',\n\n\t\tpreventDefault: true,\n\t\tpreventDefaultException: { tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT)$/ },\n\n\t\tHWCompositing: true,\n\t\tuseTransition: true,\n\t\tuseTransform: true,\n\t\tbindToWrapper: typeof window.onmousedown === \"undefined\"\n\t};\n\n\tfor ( var i in options ) {\n\t\tthis.options[i] = options[i];\n\t}\n\n\t// Normalize options\n\tthis.translateZ = this.options.HWCompositing && utils.hasPerspective ? ' translateZ(0)' : '';\n\n\tthis.options.useTransition = utils.hasTransition && this.options.useTransition;\n\tthis.options.useTransform = utils.hasTransform && this.options.useTransform;\n\n\tthis.options.eventPassthrough = this.options.eventPassthrough === true ? 'vertical' : this.options.eventPassthrough;\n\tthis.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n\t// If you want eventPassthrough I have to lock one of the axes\n\tthis.options.scrollY = this.options.eventPassthrough == 'vertical' ? false : this.options.scrollY;\n\tthis.options.scrollX = this.options.eventPassthrough == 'horizontal' ? false : this.options.scrollX;\n\n\t// With eventPassthrough we also need lockDirection mechanism\n\tthis.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n\tthis.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n\tthis.options.bounceEasing = typeof this.options.bounceEasing == 'string' ? utils.ease[this.options.bounceEasing] || utils.ease.circular : this.options.bounceEasing;\n\n\tthis.options.resizePolling = this.options.resizePolling === undefined ? 60 : this.options.resizePolling;\n\n\tif ( this.options.tap === true ) {\n\t\tthis.options.tap = 'tap';\n\t}\n\n\t// https://github.com/cubiq/iscroll/issues/1029\n\tif (!this.options.useTransition && !this.options.useTransform) {\n\t\tif(!(/relative|absolute/i).test(this.scrollerStyle.position)) {\n\t\t\tthis.scrollerStyle.position = \"relative\";\n\t\t}\n\t}\n\n\tif ( this.options.shrinkScrollbars == 'scale' ) {\n\t\tthis.options.useTransition = false;\n\t}\n\n\tthis.options.invertWheelDirection = this.options.invertWheelDirection ? -1 : 1;\n\n// INSERT POINT: NORMALIZATION\n\n\t// Some defaults\n\tthis.x = 0;\n\tthis.y = 0;\n\tthis.directionX = 0;\n\tthis.directionY = 0;\n\tthis._events = {};\n\n// INSERT POINT: DEFAULTS\n\n\tthis._init();\n\tthis.refresh();\n\n\tthis.scrollTo(this.options.startX, this.options.startY);\n\tthis.enable();\n}\n\nIScroll.prototype = {\n\tversion: '5.2.0-snapshot',\n\n\t_init: function () {\n\t\tthis._initEvents();\n\n\t\tif ( this.options.scrollbars || this.options.indicators ) {\n\t\t\tthis._initIndicators();\n\t\t}\n\n\t\tif ( this.options.mouseWheel ) {\n\t\t\tthis._initWheel();\n\t\t}\n\n\t\tif ( this.options.snap ) {\n\t\t\tthis._initSnap();\n\t\t}\n\n\t\tif ( this.options.keyBindings ) {\n\t\t\tthis._initKeys();\n\t\t}\n\n// INSERT POINT: _init\n\n\t},\n\n\tdestroy: function () {\n\t\tthis._initEvents(true);\n\t\tclearTimeout(this.resizeTimeout);\n \t\tthis.resizeTimeout = null;\n\t\tthis._execEvent('destroy');\n\t},\n\n\t_transitionEnd: function (e) {\n\t\tif ( e.target != this.scroller || !this.isInTransition ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._transitionTime();\n\t\tif ( !this.resetPosition(this.options.bounceTime) ) {\n\t\t\tthis.isInTransition = false;\n\t\t\tthis._execEvent('scrollEnd');\n\t\t}\n\t},\n\n\t_start: function (e) {\n\t\t// React to left mouse button only\n\t\tif ( utils.eventType[e.type] != 1 ) {\n\t\t  // for button property\n\t\t  // http://unixpapa.com/js/mouse.html\n\t\t  var button;\n\t    if (!e.which) {\n\t      /* IE case */\n\t      button = (e.button < 2) ? 0 :\n\t               ((e.button == 4) ? 1 : 2);\n\t    } else {\n\t      /* All others */\n\t      button = e.button;\n\t    }\n\t\t\tif ( button !== 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif ( !this.enabled || (this.initiated && utils.eventType[e.type] !== this.initiated) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.options.preventDefault && !utils.isBadAndroid && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar point = e.touches ? e.touches[0] : e,\n\t\t\tpos;\n\n\t\tthis.initiated\t= utils.eventType[e.type];\n\t\tthis.moved\t\t= false;\n\t\tthis.distX\t\t= 0;\n\t\tthis.distY\t\t= 0;\n\t\tthis.directionX = 0;\n\t\tthis.directionY = 0;\n\t\tthis.directionLocked = 0;\n\n\t\tthis.startTime = utils.getTime();\n\n\t\tif ( this.options.useTransition && this.isInTransition ) {\n\t\t\tthis._transitionTime();\n\t\t\tthis.isInTransition = false;\n\t\t\tpos = this.getComputedPosition();\n\t\t\tthis._translate(Math.round(pos.x), Math.round(pos.y));\n\t\t\tthis._execEvent('scrollEnd');\n\t\t} else if ( !this.options.useTransition && this.isAnimating ) {\n\t\t\tthis.isAnimating = false;\n\t\t\tthis._execEvent('scrollEnd');\n\t\t}\n\n\t\tthis.startX    = this.x;\n\t\tthis.startY    = this.y;\n\t\tthis.absStartX = this.x;\n\t\tthis.absStartY = this.y;\n\t\tthis.pointX    = point.pageX;\n\t\tthis.pointY    = point.pageY;\n\n\t\tthis._execEvent('beforeScrollStart');\n\t},\n\n\t_move: function (e) {\n\t\tif ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.options.preventDefault ) {\t// increases performance on Android? TODO: check!\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar point\t\t= e.touches ? e.touches[0] : e,\n\t\t\tdeltaX\t\t= point.pageX - this.pointX,\n\t\t\tdeltaY\t\t= point.pageY - this.pointY,\n\t\t\ttimestamp\t= utils.getTime(),\n\t\t\tnewX, newY,\n\t\t\tabsDistX, absDistY;\n\n\t\tthis.pointX\t\t= point.pageX;\n\t\tthis.pointY\t\t= point.pageY;\n\n\t\tthis.distX\t\t+= deltaX;\n\t\tthis.distY\t\t+= deltaY;\n\t\tabsDistX\t\t= Math.abs(this.distX);\n\t\tabsDistY\t\t= Math.abs(this.distY);\n\n\t\t// We need to move at least 10 pixels for the scrolling to initiate\n\t\tif ( timestamp - this.endTime > 300 && (absDistX < 10 && absDistY < 10) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If you are scrolling in one direction lock the other\n\t\tif ( !this.directionLocked && !this.options.freeScroll ) {\n\t\t\tif ( absDistX > absDistY + this.options.directionLockThreshold ) {\n\t\t\t\tthis.directionLocked = 'h';\t\t// lock horizontally\n\t\t\t} else if ( absDistY >= absDistX + this.options.directionLockThreshold ) {\n\t\t\t\tthis.directionLocked = 'v';\t\t// lock vertically\n\t\t\t} else {\n\t\t\t\tthis.directionLocked = 'n';\t\t// no lock\n\t\t\t}\n\t\t}\n\n\t\tif ( this.directionLocked == 'h' ) {\n\t\t\tif ( this.options.eventPassthrough == 'vertical' ) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if ( this.options.eventPassthrough == 'horizontal' ) {\n\t\t\t\tthis.initiated = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdeltaY = 0;\n\t\t} else if ( this.directionLocked == 'v' ) {\n\t\t\tif ( this.options.eventPassthrough == 'horizontal' ) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if ( this.options.eventPassthrough == 'vertical' ) {\n\t\t\t\tthis.initiated = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdeltaX = 0;\n\t\t}\n\n\t\tdeltaX = this.hasHorizontalScroll ? deltaX : 0;\n\t\tdeltaY = this.hasVerticalScroll ? deltaY : 0;\n\n\t\tnewX = this.x + deltaX;\n\t\tnewY = this.y + deltaY;\n\n\t\t// Slow down if outside of the boundaries\n\t\tif ( newX > 0 || newX < this.maxScrollX ) {\n\t\t\tnewX = this.options.bounce ? this.x + deltaX / 3 : newX > 0 ? 0 : this.maxScrollX;\n\t\t}\n\t\tif ( newY > 0 || newY < this.maxScrollY ) {\n\t\t\tnewY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\n\t\t}\n\n\t\tthis.directionX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n\t\tthis.directionY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n\t\tif ( !this.moved ) {\n\t\t\tthis._execEvent('scrollStart');\n\t\t}\n\n\t\tthis.moved = true;\n\n\t\tthis._translate(newX, newY);\n\n/* REPLACE START: _move */\n\n\t\tif ( timestamp - this.startTime > 300 ) {\n\t\t\tthis.startTime = timestamp;\n\t\t\tthis.startX = this.x;\n\t\t\tthis.startY = this.y;\n\t\t}\n\n/* REPLACE END: _move */\n\n\t},\n\n\t_end: function (e) {\n\t\tif ( !this.enabled || utils.eventType[e.type] !== this.initiated ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.options.preventDefault && !utils.preventDefaultException(e.target, this.options.preventDefaultException) ) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar point = e.changedTouches ? e.changedTouches[0] : e,\n\t\t\tmomentumX,\n\t\t\tmomentumY,\n\t\t\tduration = utils.getTime() - this.startTime,\n\t\t\tnewX = Math.round(this.x),\n\t\t\tnewY = Math.round(this.y),\n\t\t\tdistanceX = Math.abs(newX - this.startX),\n\t\t\tdistanceY = Math.abs(newY - this.startY),\n\t\t\ttime = 0,\n\t\t\teasing = '';\n\n\t\tthis.isInTransition = 0;\n\t\tthis.initiated = 0;\n\t\tthis.endTime = utils.getTime();\n\n\t\t// reset if we are outside of the boundaries\n\t\tif ( this.resetPosition(this.options.bounceTime) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.scrollTo(newX, newY);\t// ensures that the last position is rounded\n\n\t\t// we scrolled less than 10 pixels\n\t\tif ( !this.moved ) {\n\t\t\tif ( this.options.tap ) {\n\t\t\t\tutils.tap(e, this.options.tap);\n\t\t\t}\n\n\t\t\tif ( this.options.click ) {\n\t\t\t\tutils.click(e);\n\t\t\t}\n\n\t\t\tthis._execEvent('scrollCancel');\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this._events.flick && duration < 200 && distanceX < 100 && distanceY < 100 ) {\n\t\t\tthis._execEvent('flick');\n\t\t\treturn;\n\t\t}\n\n\t\t// start momentum animation if needed\n\t\tif ( this.options.momentum && duration < 300 ) {\n\t\t\tmomentumX = this.hasHorizontalScroll ? utils.momentum(this.x, this.startX, duration, this.maxScrollX, this.options.bounce ? this.wrapperWidth : 0, this.options.deceleration) : { destination: newX, duration: 0 };\n\t\t\tmomentumY = this.hasVerticalScroll ? utils.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration) : { destination: newY, duration: 0 };\n\t\t\tnewX = momentumX.destination;\n\t\t\tnewY = momentumY.destination;\n\t\t\ttime = Math.max(momentumX.duration, momentumY.duration);\n\t\t\tthis.isInTransition = 1;\n\t\t}\n\n\n\t\tif ( this.options.snap ) {\n\t\t\tvar snap = this._nearestSnap(newX, newY);\n\t\t\tthis.currentPage = snap;\n\t\t\ttime = this.options.snapSpeed || Math.max(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\tMath.min(Math.abs(newX - snap.x), 1000),\n\t\t\t\t\t\tMath.min(Math.abs(newY - snap.y), 1000)\n\t\t\t\t\t), 300);\n\t\t\tnewX = snap.x;\n\t\t\tnewY = snap.y;\n\n\t\t\tthis.directionX = 0;\n\t\t\tthis.directionY = 0;\n\t\t\teasing = this.options.bounceEasing;\n\t\t}\n\n// INSERT POINT: _end\n\n\t\tif ( newX != this.x || newY != this.y ) {\n\t\t\t// change easing function when scroller goes out of the boundaries\n\t\t\tif ( newX > 0 || newX < this.maxScrollX || newY > 0 || newY < this.maxScrollY ) {\n\t\t\t\teasing = utils.ease.quadratic;\n\t\t\t}\n\n\t\t\tthis.scrollTo(newX, newY, time, easing);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._execEvent('scrollEnd');\n\t},\n\n\t_resize: function () {\n\t\tvar that = this;\n\n\t\tclearTimeout(this.resizeTimeout);\n\n\t\tthis.resizeTimeout = setTimeout(function () {\n\t\t\tthat.refresh();\n\t\t}, this.options.resizePolling);\n\t},\n\n\tresetPosition: function (time) {\n\t\tvar x = this.x,\n\t\t\ty = this.y;\n\n\t\ttime = time || 0;\n\n\t\tif ( !this.hasHorizontalScroll || this.x > 0 ) {\n\t\t\tx = 0;\n\t\t} else if ( this.x < this.maxScrollX ) {\n\t\t\tx = this.maxScrollX;\n\t\t}\n\n\t\tif ( !this.hasVerticalScroll || this.y > 0 ) {\n\t\t\ty = 0;\n\t\t} else if ( this.y < this.maxScrollY ) {\n\t\t\ty = this.maxScrollY;\n\t\t}\n\n\t\tif ( x == this.x && y == this.y ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.scrollTo(x, y, time, this.options.bounceEasing);\n\n\t\treturn true;\n\t},\n\n\tdisable: function () {\n\t\tthis.enabled = false;\n\t},\n\n\tenable: function () {\n\t\tthis.enabled = true;\n\t},\n\n\trefresh: function () {\n\t\tutils.getRect(this.wrapper);\t\t// Force reflow\n\n\t\tthis.wrapperWidth\t= this.wrapper.clientWidth;\n\t\tthis.wrapperHeight\t= this.wrapper.clientHeight;\n\n\t\tvar rect = utils.getRect(this.scroller);\n/* REPLACE START: refresh */\n\n\t\tthis.scrollerWidth\t= rect.width;\n\t\tthis.scrollerHeight\t= rect.height;\n\n\t\tthis.maxScrollX\t\t= this.wrapperWidth - this.scrollerWidth;\n\t\tthis.maxScrollY\t\t= this.wrapperHeight - this.scrollerHeight;\n\n/* REPLACE END: refresh */\n\n\t\tthis.hasHorizontalScroll\t= this.options.scrollX && this.maxScrollX < 0;\n\t\tthis.hasVerticalScroll\t\t= this.options.scrollY && this.maxScrollY < 0;\n\t\t\n\t\tif ( !this.hasHorizontalScroll ) {\n\t\t\tthis.maxScrollX = 0;\n\t\t\tthis.scrollerWidth = this.wrapperWidth;\n\t\t}\n\n\t\tif ( !this.hasVerticalScroll ) {\n\t\t\tthis.maxScrollY = 0;\n\t\t\tthis.scrollerHeight = this.wrapperHeight;\n\t\t}\n\n\t\tthis.endTime = 0;\n\t\tthis.directionX = 0;\n\t\tthis.directionY = 0;\n\t\t\n\t\tif(utils.hasPointer && !this.options.disablePointer) {\n\t\t\t// The wrapper should have `touchAction` property for using pointerEvent.\n\t\t\tthis.wrapper.style[utils.style.touchAction] = utils.getTouchAction(this.options.eventPassthrough, true);\n\n\t\t\t// case. not support 'pinch-zoom'\n\t\t\t// https://github.com/cubiq/iscroll/issues/1118#issuecomment-270057583\n\t\t\tif (!this.wrapper.style[utils.style.touchAction]) {\n\t\t\t\tthis.wrapper.style[utils.style.touchAction] = utils.getTouchAction(this.options.eventPassthrough, false);\n\t\t\t}\n\t\t}\n\t\tthis.wrapperOffset = utils.offset(this.wrapper);\n\n\t\tthis._execEvent('refresh');\n\n\t\tthis.resetPosition();\n\n// INSERT POINT: _refresh\n\n\t},\t\n\n\ton: function (type, fn) {\n\t\tif ( !this._events[type] ) {\n\t\t\tthis._events[type] = [];\n\t\t}\n\n\t\tthis._events[type].push(fn);\n\t},\n\n\toff: function (type, fn) {\n\t\tif ( !this._events[type] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar index = this._events[type].indexOf(fn);\n\n\t\tif ( index > -1 ) {\n\t\t\tthis._events[type].splice(index, 1);\n\t\t}\n\t},\n\n\t_execEvent: function (type) {\n\t\tif ( !this._events[type] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i = 0,\n\t\t\tl = this._events[type].length;\n\n\t\tif ( !l ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tthis._events[type][i].apply(this, [].slice.call(arguments, 1));\n\t\t}\n\t},\n\n\tscrollBy: function (x, y, time, easing) {\n\t\tx = this.x + x;\n\t\ty = this.y + y;\n\t\ttime = time || 0;\n\n\t\tthis.scrollTo(x, y, time, easing);\n\t},\n\n\tscrollTo: function (x, y, time, easing) {\n\t\teasing = easing || utils.ease.circular;\n\n\t\tthis.isInTransition = this.options.useTransition && time > 0;\n\t\tvar transitionType = this.options.useTransition && easing.style;\n\t\tif ( !time || transitionType ) {\n\t\t\t\tif(transitionType) {\n\t\t\t\t\tthis._transitionTimingFunction(easing.style);\n\t\t\t\t\tthis._transitionTime(time);\n\t\t\t\t}\n\t\t\tthis._translate(x, y);\n\t\t} else {\n\t\t\tthis._animate(x, y, time, easing.fn);\n\t\t}\n\t},\n\n\tscrollToElement: function (el, time, offsetX, offsetY, easing) {\n\t\tel = el.nodeType ? el : this.scroller.querySelector(el);\n\n\t\tif ( !el ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar pos = utils.offset(el);\n\n\t\tpos.left -= this.wrapperOffset.left;\n\t\tpos.top  -= this.wrapperOffset.top;\n\n\t\t// if offsetX/Y are true we center the element to the screen\n\t\tvar elRect = utils.getRect(el);\n\t\tvar wrapperRect = utils.getRect(this.wrapper);\n\t\tif ( offsetX === true ) {\n\t\t\toffsetX = Math.round(elRect.width / 2 - wrapperRect.width / 2);\n\t\t}\n\t\tif ( offsetY === true ) {\n\t\t\toffsetY = Math.round(elRect.height / 2 - wrapperRect.height / 2);\n\t\t}\n\n\t\tpos.left -= offsetX || 0;\n\t\tpos.top  -= offsetY || 0;\n\n\t\tpos.left = pos.left > 0 ? 0 : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n\t\tpos.top  = pos.top  > 0 ? 0 : pos.top  < this.maxScrollY ? this.maxScrollY : pos.top;\n\n\t\ttime = time === undefined || time === null || time === 'auto' ? Math.max(Math.abs(this.x-pos.left), Math.abs(this.y-pos.top)) : time;\n\n\t\tthis.scrollTo(pos.left, pos.top, time, easing);\n\t},\n\n\t_transitionTime: function (time) {\n\t\tif (!this.options.useTransition) {\n\t\t\treturn;\n\t\t}\n\t\ttime = time || 0;\n\t\tvar durationProp = utils.style.transitionDuration;\n\t\tif(!durationProp) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.scrollerStyle[durationProp] = time + 'ms';\n\n\t\tif ( !time && utils.isBadAndroid ) {\n\t\t\tthis.scrollerStyle[durationProp] = '0.0001ms';\n\t\t\t// remove 0.0001ms\n\t\t\tvar self = this;\n\t\t\trAF(function() {\n\t\t\t\tif(self.scrollerStyle[durationProp] === '0.0001ms') {\n\t\t\t\t\tself.scrollerStyle[durationProp] = '0s';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\t\tif ( this.indicators ) {\n\t\t\tfor ( var i = this.indicators.length; i--; ) {\n\t\t\t\tthis.indicators[i].transitionTime(time);\n\t\t\t}\n\t\t}\n\n\n// INSERT POINT: _transitionTime\n\n\t},\n\n\t_transitionTimingFunction: function (easing) {\n\t\tthis.scrollerStyle[utils.style.transitionTimingFunction] = easing;\n\n\n\t\tif ( this.indicators ) {\n\t\t\tfor ( var i = this.indicators.length; i--; ) {\n\t\t\t\tthis.indicators[i].transitionTimingFunction(easing);\n\t\t\t}\n\t\t}\n\n\n// INSERT POINT: _transitionTimingFunction\n\n\t},\n\n\t_translate: function (x, y) {\n\t\tif ( this.options.useTransform ) {\n\n/* REPLACE START: _translate */\n\n\t\t\tthis.scrollerStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.translateZ;\n\n/* REPLACE END: _translate */\n\n\t\t} else {\n\t\t\tx = Math.round(x);\n\t\t\ty = Math.round(y);\n\t\t\tthis.scrollerStyle.left = x + 'px';\n\t\t\tthis.scrollerStyle.top = y + 'px';\n\t\t}\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\n\tif ( this.indicators ) {\n\t\tfor ( var i = this.indicators.length; i--; ) {\n\t\t\tthis.indicators[i].updatePosition();\n\t\t}\n\t}\n\n\n// INSERT POINT: _translate\n\n\t},\n\n\t_initEvents: function (remove) {\n\t\tvar eventType = remove ? utils.removeEvent : utils.addEvent,\n\t\t\ttarget = this.options.bindToWrapper ? this.wrapper : window;\n\n\t\teventType(window, 'orientationchange', this);\n\t\teventType(window, 'resize', this);\n\n\t\tif ( this.options.click ) {\n\t\t\teventType(this.wrapper, 'click', this, true);\n\t\t}\n\n\t\tif ( !this.options.disableMouse ) {\n\t\t\teventType(this.wrapper, 'mousedown', this);\n\t\t\teventType(target, 'mousemove', this);\n\t\t\teventType(target, 'mousecancel', this);\n\t\t\teventType(target, 'mouseup', this);\n\t\t}\n\n\t\tif ( utils.hasPointer && !this.options.disablePointer ) {\n\t\t\teventType(this.wrapper, utils.prefixPointerEvent('pointerdown'), this);\n\t\t\teventType(target, utils.prefixPointerEvent('pointermove'), this);\n\t\t\teventType(target, utils.prefixPointerEvent('pointercancel'), this);\n\t\t\teventType(target, utils.prefixPointerEvent('pointerup'), this);\n\t\t}\n\n\t\tif ( utils.hasTouch && !this.options.disableTouch ) {\n\t\t\teventType(this.wrapper, 'touchstart', this);\n\t\t\teventType(target, 'touchmove', this);\n\t\t\teventType(target, 'touchcancel', this);\n\t\t\teventType(target, 'touchend', this);\n\t\t}\n\n\t\teventType(this.scroller, 'transitionend', this);\n\t\teventType(this.scroller, 'webkitTransitionEnd', this);\n\t\teventType(this.scroller, 'oTransitionEnd', this);\n\t\teventType(this.scroller, 'MSTransitionEnd', this);\n\t},\n\n\tgetComputedPosition: function () {\n\t\tvar matrix = window.getComputedStyle(this.scroller, null),\n\t\t\tx, y;\n\n\t\tif ( this.options.useTransform ) {\n\t\t\tmatrix = matrix[utils.style.transform].split(')')[0].split(', ');\n\t\t\tx = +(matrix[12] || matrix[4]);\n\t\t\ty = +(matrix[13] || matrix[5]);\n\t\t} else {\n\t\t\tx = +matrix.left.replace(/[^-\\d.]/g, '');\n\t\t\ty = +matrix.top.replace(/[^-\\d.]/g, '');\n\t\t}\n\n\t\treturn { x: x, y: y };\n\t},\n\t_initIndicators: function () {\n\t\tvar interactive = this.options.interactiveScrollbars,\n\t\t\tcustomStyle = typeof this.options.scrollbars != 'string',\n\t\t\tindicators = [],\n\t\t\tindicator;\n\n\t\tvar that = this;\n\n\t\tthis.indicators = [];\n\n\t\tif ( this.options.scrollbars ) {\n\t\t\t// Vertical scrollbar\n\t\t\tif ( this.options.scrollY ) {\n\t\t\t\tindicator = {\n\t\t\t\t\tel: createDefaultScrollbar('v', interactive, this.options.scrollbars),\n\t\t\t\t\tinteractive: interactive,\n\t\t\t\t\tdefaultScrollbars: true,\n\t\t\t\t\tcustomStyle: customStyle,\n\t\t\t\t\tresize: this.options.resizeScrollbars,\n\t\t\t\t\tshrink: this.options.shrinkScrollbars,\n\t\t\t\t\tfade: this.options.fadeScrollbars,\n\t\t\t\t\tlistenX: false\n\t\t\t\t};\n\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\tindicators.push(indicator);\n\t\t\t}\n\n\t\t\t// Horizontal scrollbar\n\t\t\tif ( this.options.scrollX ) {\n\t\t\t\tindicator = {\n\t\t\t\t\tel: createDefaultScrollbar('h', interactive, this.options.scrollbars),\n\t\t\t\t\tinteractive: interactive,\n\t\t\t\t\tdefaultScrollbars: true,\n\t\t\t\t\tcustomStyle: customStyle,\n\t\t\t\t\tresize: this.options.resizeScrollbars,\n\t\t\t\t\tshrink: this.options.shrinkScrollbars,\n\t\t\t\t\tfade: this.options.fadeScrollbars,\n\t\t\t\t\tlistenY: false\n\t\t\t\t};\n\n\t\t\t\tthis.wrapper.appendChild(indicator.el);\n\t\t\t\tindicators.push(indicator);\n\t\t\t}\n\t\t}\n\n\t\tif ( this.options.indicators ) {\n\t\t\t// TODO: check concat compatibility\n\t\t\tindicators = indicators.concat(this.options.indicators);\n\t\t}\n\n\t\tfor ( var i = indicators.length; i--; ) {\n\t\t\tthis.indicators.push( new Indicator(this, indicators[i]) );\n\t\t}\n\n\t\t// TODO: check if we can use array.map (wide compatibility and performance issues)\n\t\tfunction _indicatorsMap (fn) {\n\t\t\tif (that.indicators) {\n\t\t\t\tfor ( var i = that.indicators.length; i--; ) {\n\t\t\t\t\tfn.call(that.indicators[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( this.options.fadeScrollbars ) {\n\t\t\tthis.on('scrollEnd', function () {\n\t\t\t\t_indicatorsMap(function () {\n\t\t\t\t\tthis.fade();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.on('scrollCancel', function () {\n\t\t\t\t_indicatorsMap(function () {\n\t\t\t\t\tthis.fade();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.on('scrollStart', function () {\n\t\t\t\t_indicatorsMap(function () {\n\t\t\t\t\tthis.fade(1);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.on('beforeScrollStart', function () {\n\t\t\t\t_indicatorsMap(function () {\n\t\t\t\t\tthis.fade(1, true);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\n\t\tthis.on('refresh', function () {\n\t\t\t_indicatorsMap(function () {\n\t\t\t\tthis.refresh();\n\t\t\t});\n\t\t});\n\n\t\tthis.on('destroy', function () {\n\t\t\t_indicatorsMap(function () {\n\t\t\t\tthis.destroy();\n\t\t\t});\n\n\t\t\tdelete this.indicators;\n\t\t});\n\t},\n\n\t_initWheel: function () {\n\t\tutils.addEvent(this.wrapper, 'wheel', this);\n\t\tutils.addEvent(this.wrapper, 'mousewheel', this);\n\t\tutils.addEvent(this.wrapper, 'DOMMouseScroll', this);\n\n\t\tthis.on('destroy', function () {\n\t\t\tclearTimeout(this.wheelTimeout);\n\t\t\tthis.wheelTimeout = null;\n\t\t\tutils.removeEvent(this.wrapper, 'wheel', this);\n\t\t\tutils.removeEvent(this.wrapper, 'mousewheel', this);\n\t\t\tutils.removeEvent(this.wrapper, 'DOMMouseScroll', this);\n\t\t});\n\t},\n\n\t_wheel: function (e) {\n\t\tif ( !this.enabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\te.preventDefault();\n\n\t\tvar wheelDeltaX, wheelDeltaY,\n\t\t\tnewX, newY,\n\t\t\tthat = this;\n\n\t\tif ( this.wheelTimeout === undefined ) {\n\t\t\tthat._execEvent('scrollStart');\n\t\t}\n\n\t\t// Execute the scrollEnd event after 400ms the wheel stopped scrolling\n\t\tclearTimeout(this.wheelTimeout);\n\t\tthis.wheelTimeout = setTimeout(function () {\n\t\t\tif(!that.options.snap) {\n\t\t\t\tthat._execEvent('scrollEnd');\n\t\t\t}\n\t\t\tthat.wheelTimeout = undefined;\n\t\t}, 400);\n\n\t\tif ( 'deltaX' in e ) {\n\t\t\tif (e.deltaMode === 1) {\n\t\t\t\twheelDeltaX = -e.deltaX * this.options.mouseWheelSpeed;\n\t\t\t\twheelDeltaY = -e.deltaY * this.options.mouseWheelSpeed;\n\t\t\t} else {\n\t\t\t\twheelDeltaX = -e.deltaX;\n\t\t\t\twheelDeltaY = -e.deltaY;\n\t\t\t}\n\t\t} else if ( 'wheelDeltaX' in e ) {\n\t\t\twheelDeltaX = e.wheelDeltaX / 120 * this.options.mouseWheelSpeed;\n\t\t\twheelDeltaY = e.wheelDeltaY / 120 * this.options.mouseWheelSpeed;\n\t\t} else if ( 'wheelDelta' in e ) {\n\t\t\twheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * this.options.mouseWheelSpeed;\n\t\t} else if ( 'detail' in e ) {\n\t\t\twheelDeltaX = wheelDeltaY = -e.detail / 3 * this.options.mouseWheelSpeed;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\twheelDeltaX *= this.options.invertWheelDirection;\n\t\twheelDeltaY *= this.options.invertWheelDirection;\n\n\t\tif ( !this.hasVerticalScroll ) {\n\t\t\twheelDeltaX = wheelDeltaY;\n\t\t\twheelDeltaY = 0;\n\t\t}\n\n\t\tif ( this.options.snap ) {\n\t\t\tnewX = this.currentPage.pageX;\n\t\t\tnewY = this.currentPage.pageY;\n\n\t\t\tif ( wheelDeltaX > 0 ) {\n\t\t\t\tnewX--;\n\t\t\t} else if ( wheelDeltaX < 0 ) {\n\t\t\t\tnewX++;\n\t\t\t}\n\n\t\t\tif ( wheelDeltaY > 0 ) {\n\t\t\t\tnewY--;\n\t\t\t} else if ( wheelDeltaY < 0 ) {\n\t\t\t\tnewY++;\n\t\t\t}\n\n\t\t\tthis.goToPage(newX, newY);\n\n\t\t\treturn;\n\t\t}\n\n\t\tnewX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n\t\tnewY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n\t\tthis.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n\t\tthis.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n\t\tif ( newX > 0 ) {\n\t\t\tnewX = 0;\n\t\t} else if ( newX < this.maxScrollX ) {\n\t\t\tnewX = this.maxScrollX;\n\t\t}\n\n\t\tif ( newY > 0 ) {\n\t\t\tnewY = 0;\n\t\t} else if ( newY < this.maxScrollY ) {\n\t\t\tnewY = this.maxScrollY;\n\t\t}\n\n\t\tthis.scrollTo(newX, newY, 0);\n\n// INSERT POINT: _wheel\n\t},\n\n\t_initSnap: function () {\n\t\tthis.currentPage = {};\n\n\t\tif ( typeof this.options.snap == 'string' ) {\n\t\t\tthis.options.snap = this.scroller.querySelectorAll(this.options.snap);\n\t\t}\n\n\t\tthis.on('refresh', function () {\n\t\t\tvar i = 0, l,\n\t\t\t\tm = 0, n,\n\t\t\t\tcx, cy,\n\t\t\t\tx = 0, y,\n\t\t\t\tstepX = this.options.snapStepX || this.wrapperWidth,\n\t\t\t\tstepY = this.options.snapStepY || this.wrapperHeight,\n\t\t\t\tel,\n\t\t\t\trect;\n\n\t\t\tthis.pages = [];\n\n\t\t\tif ( !this.wrapperWidth || !this.wrapperHeight || !this.scrollerWidth || !this.scrollerHeight ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( this.options.snap === true ) {\n\t\t\t\tcx = Math.round( stepX / 2 );\n\t\t\t\tcy = Math.round( stepY / 2 );\n\n\t\t\t\twhile ( x > -this.scrollerWidth ) {\n\t\t\t\t\tthis.pages[i] = [];\n\t\t\t\t\tl = 0;\n\t\t\t\t\ty = 0;\n\n\t\t\t\t\twhile ( y > -this.scrollerHeight ) {\n\t\t\t\t\t\tthis.pages[i][l] = {\n\t\t\t\t\t\t\tx: Math.max(x, this.maxScrollX),\n\t\t\t\t\t\t\ty: Math.max(y, this.maxScrollY),\n\t\t\t\t\t\t\twidth: stepX,\n\t\t\t\t\t\t\theight: stepY,\n\t\t\t\t\t\t\tcx: x - cx,\n\t\t\t\t\t\t\tcy: y - cy\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\ty -= stepY;\n\t\t\t\t\t\tl++;\n\t\t\t\t\t}\n\n\t\t\t\t\tx -= stepX;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tel = this.options.snap;\n\t\t\t\tl = el.length;\n\t\t\t\tn = -1;\n\n\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\trect = utils.getRect(el[i]);\n\t\t\t\t\tif ( i === 0 || rect.left <= utils.getRect(el[i-1]).left ) {\n\t\t\t\t\t\tm = 0;\n\t\t\t\t\t\tn++;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !this.pages[m] ) {\n\t\t\t\t\t\tthis.pages[m] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tx = Math.max(-rect.left, this.maxScrollX);\n\t\t\t\t\ty = Math.max(-rect.top, this.maxScrollY);\n\t\t\t\t\tcx = x - Math.round(rect.width / 2);\n\t\t\t\t\tcy = y - Math.round(rect.height / 2);\n\n\t\t\t\t\tthis.pages[m][n] = {\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\ty: y,\n\t\t\t\t\t\twidth: rect.width,\n\t\t\t\t\t\theight: rect.height,\n\t\t\t\t\t\tcx: cx,\n\t\t\t\t\t\tcy: cy\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( x > this.maxScrollX ) {\n\t\t\t\t\t\tm++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.goToPage(this.currentPage.pageX || 0, this.currentPage.pageY || 0, 0);\n\n\t\t\t// Update snap threshold if needed\n\t\t\tif ( this.options.snapThreshold % 1 === 0 ) {\n\t\t\t\tthis.snapThresholdX = this.options.snapThreshold;\n\t\t\t\tthis.snapThresholdY = this.options.snapThreshold;\n\t\t\t} else {\n\t\t\t\tthis.snapThresholdX = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width * this.options.snapThreshold);\n\t\t\t\tthis.snapThresholdY = Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height * this.options.snapThreshold);\n\t\t\t}\n\t\t});\n\n\t\tthis.on('flick', function () {\n\t\t\tvar time = this.options.snapSpeed || Math.max(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\tMath.min(Math.abs(this.x - this.startX), 1000),\n\t\t\t\t\t\tMath.min(Math.abs(this.y - this.startY), 1000)\n\t\t\t\t\t), 300);\n\n\t\t\tthis.goToPage(\n\t\t\t\tthis.currentPage.pageX + this.directionX,\n\t\t\t\tthis.currentPage.pageY + this.directionY,\n\t\t\t\ttime\n\t\t\t);\n\t\t});\n\t},\n\n\t_nearestSnap: function (x, y) {\n\t\tif ( !this.pages.length ) {\n\t\t\treturn { x: 0, y: 0, pageX: 0, pageY: 0 };\n\t\t}\n\n\t\tvar i = 0,\n\t\t\tl = this.pages.length,\n\t\t\tm = 0;\n\n\t\t// Check if we exceeded the snap threshold\n\t\tif ( Math.abs(x - this.absStartX) < this.snapThresholdX &&\n\t\t\tMath.abs(y - this.absStartY) < this.snapThresholdY ) {\n\t\t\treturn this.currentPage;\n\t\t}\n\n\t\tif ( x > 0 ) {\n\t\t\tx = 0;\n\t\t} else if ( x < this.maxScrollX ) {\n\t\t\tx = this.maxScrollX;\n\t\t}\n\n\t\tif ( y > 0 ) {\n\t\t\ty = 0;\n\t\t} else if ( y < this.maxScrollY ) {\n\t\t\ty = this.maxScrollY;\n\t\t}\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tif ( x >= this.pages[i][0].cx ) {\n\t\t\t\tx = this.pages[i][0].x;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tl = this.pages[i].length;\n\n\t\tfor ( ; m < l; m++ ) {\n\t\t\tif ( y >= this.pages[0][m].cy ) {\n\t\t\t\ty = this.pages[0][m].y;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif ( i == this.currentPage.pageX ) {\n\t\t\ti += this.directionX;\n\n\t\t\tif ( i < 0 ) {\n\t\t\t\ti = 0;\n\t\t\t} else if ( i >= this.pages.length ) {\n\t\t\t\ti = this.pages.length - 1;\n\t\t\t}\n\n\t\t\tx = this.pages[i][0].x;\n\t\t}\n\n\t\tif ( m == this.currentPage.pageY ) {\n\t\t\tm += this.directionY;\n\n\t\t\tif ( m < 0 ) {\n\t\t\t\tm = 0;\n\t\t\t} else if ( m >= this.pages[0].length ) {\n\t\t\t\tm = this.pages[0].length - 1;\n\t\t\t}\n\n\t\t\ty = this.pages[0][m].y;\n\t\t}\n\n\t\treturn {\n\t\t\tx: x,\n\t\t\ty: y,\n\t\t\tpageX: i,\n\t\t\tpageY: m\n\t\t};\n\t},\n\n\tgoToPage: function (x, y, time, easing) {\n\t\teasing = easing || this.options.bounceEasing;\n\n\t\tif ( x >= this.pages.length ) {\n\t\t\tx = this.pages.length - 1;\n\t\t} else if ( x < 0 ) {\n\t\t\tx = 0;\n\t\t}\n\n\t\tif ( y >= this.pages[x].length ) {\n\t\t\ty = this.pages[x].length - 1;\n\t\t} else if ( y < 0 ) {\n\t\t\ty = 0;\n\t\t}\n\n\t\tvar posX = this.pages[x][y].x,\n\t\t\tposY = this.pages[x][y].y;\n\n\t\ttime = time === undefined ? this.options.snapSpeed || Math.max(\n\t\t\tMath.max(\n\t\t\t\tMath.min(Math.abs(posX - this.x), 1000),\n\t\t\t\tMath.min(Math.abs(posY - this.y), 1000)\n\t\t\t), 300) : time;\n\n\t\tthis.currentPage = {\n\t\t\tx: posX,\n\t\t\ty: posY,\n\t\t\tpageX: x,\n\t\t\tpageY: y\n\t\t};\n\n\t\tthis.scrollTo(posX, posY, time, easing);\n\t},\n\n\tnext: function (time, easing) {\n\t\tvar x = this.currentPage.pageX,\n\t\t\ty = this.currentPage.pageY;\n\n\t\tx++;\n\n\t\tif ( x >= this.pages.length && this.hasVerticalScroll ) {\n\t\t\tx = 0;\n\t\t\ty++;\n\t\t}\n\n\t\tthis.goToPage(x, y, time, easing);\n\t},\n\n\tprev: function (time, easing) {\n\t\tvar x = this.currentPage.pageX,\n\t\t\ty = this.currentPage.pageY;\n\n\t\tx--;\n\n\t\tif ( x < 0 && this.hasVerticalScroll ) {\n\t\t\tx = 0;\n\t\t\ty--;\n\t\t}\n\n\t\tthis.goToPage(x, y, time, easing);\n\t},\n\n\t_initKeys: function (e) {\n\t\t// default key bindings\n\t\tvar keys = {\n\t\t\tpageUp: 33,\n\t\t\tpageDown: 34,\n\t\t\tend: 35,\n\t\t\thome: 36,\n\t\t\tleft: 37,\n\t\t\tup: 38,\n\t\t\tright: 39,\n\t\t\tdown: 40\n\t\t};\n\t\tvar i;\n\n\t\t// if you give me characters I give you keycode\n\t\tif ( typeof this.options.keyBindings == 'object' ) {\n\t\t\tfor ( i in this.options.keyBindings ) {\n\t\t\t\tif ( typeof this.options.keyBindings[i] == 'string' ) {\n\t\t\t\t\tthis.options.keyBindings[i] = this.options.keyBindings[i].toUpperCase().charCodeAt(0);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.options.keyBindings = {};\n\t\t}\n\n\t\tfor ( i in keys ) {\n\t\t\tthis.options.keyBindings[i] = this.options.keyBindings[i] || keys[i];\n\t\t}\n\n\t\tutils.addEvent(window, 'keydown', this);\n\n\t\tthis.on('destroy', function () {\n\t\t\tutils.removeEvent(window, 'keydown', this);\n\t\t});\n\t},\n\n\t_key: function (e) {\n\t\tif ( !this.enabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar snap = this.options.snap,\t// we are using this alot, better to cache it\n\t\t\tnewX = snap ? this.currentPage.pageX : this.x,\n\t\t\tnewY = snap ? this.currentPage.pageY : this.y,\n\t\t\tnow = utils.getTime(),\n\t\t\tprevTime = this.keyTime || 0,\n\t\t\tacceleration = 0.250,\n\t\t\tpos;\n\n\t\tif ( this.options.useTransition && this.isInTransition ) {\n\t\t\tpos = this.getComputedPosition();\n\n\t\t\tthis._translate(Math.round(pos.x), Math.round(pos.y));\n\t\t\tthis.isInTransition = false;\n\t\t}\n\n\t\tthis.keyAcceleration = now - prevTime < 200 ? Math.min(this.keyAcceleration + acceleration, 50) : 0;\n\n\t\tswitch ( e.keyCode ) {\n\t\t\tcase this.options.keyBindings.pageUp:\n\t\t\t\tif ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\n\t\t\t\t\tnewX += snap ? 1 : this.wrapperWidth;\n\t\t\t\t} else {\n\t\t\t\t\tnewY += snap ? 1 : this.wrapperHeight;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.pageDown:\n\t\t\t\tif ( this.hasHorizontalScroll && !this.hasVerticalScroll ) {\n\t\t\t\t\tnewX -= snap ? 1 : this.wrapperWidth;\n\t\t\t\t} else {\n\t\t\t\t\tnewY -= snap ? 1 : this.wrapperHeight;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.end:\n\t\t\t\tnewX = snap ? this.pages.length-1 : this.maxScrollX;\n\t\t\t\tnewY = snap ? this.pages[0].length-1 : this.maxScrollY;\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.home:\n\t\t\t\tnewX = 0;\n\t\t\t\tnewY = 0;\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.left:\n\t\t\t\tnewX += snap ? -1 : 5 + this.keyAcceleration>>0;\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.up:\n\t\t\t\tnewY += snap ? 1 : 5 + this.keyAcceleration>>0;\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.right:\n\t\t\t\tnewX -= snap ? -1 : 5 + this.keyAcceleration>>0;\n\t\t\t\tbreak;\n\t\t\tcase this.options.keyBindings.down:\n\t\t\t\tnewY -= snap ? 1 : 5 + this.keyAcceleration>>0;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\n\t\tif ( snap ) {\n\t\t\tthis.goToPage(newX, newY);\n\t\t\treturn;\n\t\t}\n\n\t\tif ( newX > 0 ) {\n\t\t\tnewX = 0;\n\t\t\tthis.keyAcceleration = 0;\n\t\t} else if ( newX < this.maxScrollX ) {\n\t\t\tnewX = this.maxScrollX;\n\t\t\tthis.keyAcceleration = 0;\n\t\t}\n\n\t\tif ( newY > 0 ) {\n\t\t\tnewY = 0;\n\t\t\tthis.keyAcceleration = 0;\n\t\t} else if ( newY < this.maxScrollY ) {\n\t\t\tnewY = this.maxScrollY;\n\t\t\tthis.keyAcceleration = 0;\n\t\t}\n\n\t\tthis.scrollTo(newX, newY, 0);\n\n\t\tthis.keyTime = now;\n\t},\n\n\t_animate: function (destX, destY, duration, easingFn) {\n\t\tvar that = this,\n\t\t\tstartX = this.x,\n\t\t\tstartY = this.y,\n\t\t\tstartTime = utils.getTime(),\n\t\t\tdestTime = startTime + duration;\n\n\t\tfunction step () {\n\t\t\tvar now = utils.getTime(),\n\t\t\t\tnewX, newY,\n\t\t\t\teasing;\n\n\t\t\tif ( now >= destTime ) {\n\t\t\t\tthat.isAnimating = false;\n\t\t\t\tthat._translate(destX, destY);\n\n\t\t\t\tif ( !that.resetPosition(that.options.bounceTime) ) {\n\t\t\t\t\tthat._execEvent('scrollEnd');\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnow = ( now - startTime ) / duration;\n\t\t\teasing = easingFn(now);\n\t\t\tnewX = ( destX - startX ) * easing + startX;\n\t\t\tnewY = ( destY - startY ) * easing + startY;\n\t\t\tthat._translate(newX, newY);\n\n\t\t\tif ( that.isAnimating ) {\n\t\t\t\trAF(step);\n\t\t\t}\n\t\t}\n\n\t\tthis.isAnimating = true;\n\t\tstep();\n\t},\n\thandleEvent: function (e) {\n\t\tswitch ( e.type ) {\n\t\t\tcase 'touchstart':\n\t\t\tcase 'pointerdown':\n\t\t\tcase 'MSPointerDown':\n\t\t\tcase 'mousedown':\n\t\t\t\tthis._start(e);\n\t\t\t\tbreak;\n\t\t\tcase 'touchmove':\n\t\t\tcase 'pointermove':\n\t\t\tcase 'MSPointerMove':\n\t\t\tcase 'mousemove':\n\t\t\t\tthis._move(e);\n\t\t\t\tbreak;\n\t\t\tcase 'touchend':\n\t\t\tcase 'pointerup':\n\t\t\tcase 'MSPointerUp':\n\t\t\tcase 'mouseup':\n\t\t\tcase 'touchcancel':\n\t\t\tcase 'pointercancel':\n\t\t\tcase 'MSPointerCancel':\n\t\t\tcase 'mousecancel':\n\t\t\t\tthis._end(e);\n\t\t\t\tbreak;\n\t\t\tcase 'orientationchange':\n\t\t\tcase 'resize':\n\t\t\t\tthis._resize();\n\t\t\t\tbreak;\n\t\t\tcase 'transitionend':\n\t\t\tcase 'webkitTransitionEnd':\n\t\t\tcase 'oTransitionEnd':\n\t\t\tcase 'MSTransitionEnd':\n\t\t\t\tthis._transitionEnd(e);\n\t\t\t\tbreak;\n\t\t\tcase 'wheel':\n\t\t\tcase 'DOMMouseScroll':\n\t\t\tcase 'mousewheel':\n\t\t\t\tthis._wheel(e);\n\t\t\t\tbreak;\n\t\t\tcase 'keydown':\n\t\t\t\tthis._key(e);\n\t\t\t\tbreak;\n\t\t\tcase 'click':\n\t\t\t\tif ( this.enabled && !e._constructed ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\nfunction createDefaultScrollbar (direction, interactive, type) {\n\tvar scrollbar = document.createElement('div'),\n\t\tindicator = document.createElement('div');\n\n\tif ( type === true ) {\n\t\tscrollbar.style.cssText = 'position:absolute;z-index:9999';\n\t\tindicator.style.cssText = '-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px';\n\t}\n\n\tindicator.className = 'iScrollIndicator';\n\n\tif ( direction == 'h' ) {\n\t\tif ( type === true ) {\n\t\t\tscrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n\t\t\tindicator.style.height = '100%';\n\t\t}\n\t\tscrollbar.className = 'iScrollHorizontalScrollbar';\n\t} else {\n\t\tif ( type === true ) {\n\t\t\tscrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n\t\t\tindicator.style.width = '100%';\n\t\t}\n\t\tscrollbar.className = 'iScrollVerticalScrollbar';\n\t}\n\n\tscrollbar.style.cssText += ';overflow:hidden';\n\n\tif ( !interactive ) {\n\t\tscrollbar.style.pointerEvents = 'none';\n\t}\n\n\tscrollbar.appendChild(indicator);\n\n\treturn scrollbar;\n}\n\nfunction Indicator (scroller, options) {\n\tthis.wrapper = typeof options.el == 'string' ? document.querySelector(options.el) : options.el;\n\tthis.wrapperStyle = this.wrapper.style;\n\tthis.indicator = this.wrapper.children[0];\n\tthis.indicatorStyle = this.indicator.style;\n\tthis.scroller = scroller;\n\n\tthis.options = {\n\t\tlistenX: true,\n\t\tlistenY: true,\n\t\tinteractive: false,\n\t\tresize: true,\n\t\tdefaultScrollbars: false,\n\t\tshrink: false,\n\t\tfade: false,\n\t\tspeedRatioX: 0,\n\t\tspeedRatioY: 0\n\t};\n\n\tfor ( var i in options ) {\n\t\tthis.options[i] = options[i];\n\t}\n\n\tthis.sizeRatioX = 1;\n\tthis.sizeRatioY = 1;\n\tthis.maxPosX = 0;\n\tthis.maxPosY = 0;\n\n\tif ( this.options.interactive ) {\n\t\tif ( !this.options.disableTouch ) {\n\t\t\tutils.addEvent(this.indicator, 'touchstart', this);\n\t\t\tutils.addEvent(window, 'touchend', this);\n\t\t}\n\t\tif ( !this.options.disablePointer ) {\n\t\t\tutils.addEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n\t\t\tutils.addEvent(window, utils.prefixPointerEvent('pointerup'), this);\n\t\t}\n\t\tif ( !this.options.disableMouse ) {\n\t\t\tutils.addEvent(this.indicator, 'mousedown', this);\n\t\t\tutils.addEvent(window, 'mouseup', this);\n\t\t}\n\t}\n\n\tif ( this.options.fade ) {\n\t\tthis.wrapperStyle[utils.style.transform] = this.scroller.translateZ;\n\t\tvar durationProp = utils.style.transitionDuration;\n\t\tif(!durationProp) {\n\t\t\treturn;\n\t\t}\n\t\tthis.wrapperStyle[durationProp] = utils.isBadAndroid ? '0.0001ms' : '0ms';\n\t\t// remove 0.0001ms\n\t\tvar self = this;\n\t\tif(utils.isBadAndroid) {\n\t\t\trAF(function() {\n\t\t\t\tif(self.wrapperStyle[durationProp] === '0.0001ms') {\n\t\t\t\t\tself.wrapperStyle[durationProp] = '0s';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.wrapperStyle.opacity = '0';\n\t}\n}\n\nIndicator.prototype = {\n\thandleEvent: function (e) {\n\t\tswitch ( e.type ) {\n\t\t\tcase 'touchstart':\n\t\t\tcase 'pointerdown':\n\t\t\tcase 'MSPointerDown':\n\t\t\tcase 'mousedown':\n\t\t\t\tthis._start(e);\n\t\t\t\tbreak;\n\t\t\tcase 'touchmove':\n\t\t\tcase 'pointermove':\n\t\t\tcase 'MSPointerMove':\n\t\t\tcase 'mousemove':\n\t\t\t\tthis._move(e);\n\t\t\t\tbreak;\n\t\t\tcase 'touchend':\n\t\t\tcase 'pointerup':\n\t\t\tcase 'MSPointerUp':\n\t\t\tcase 'mouseup':\n\t\t\tcase 'touchcancel':\n\t\t\tcase 'pointercancel':\n\t\t\tcase 'MSPointerCancel':\n\t\t\tcase 'mousecancel':\n\t\t\t\tthis._end(e);\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\tdestroy: function () {\n\t\tif ( this.options.fadeScrollbars ) {\n\t\t\tclearTimeout(this.fadeTimeout);\n\t\t\tthis.fadeTimeout = null;\n\t\t}\n\t\tif ( this.options.interactive ) {\n\t\t\tutils.removeEvent(this.indicator, 'touchstart', this);\n\t\t\tutils.removeEvent(this.indicator, utils.prefixPointerEvent('pointerdown'), this);\n\t\t\tutils.removeEvent(this.indicator, 'mousedown', this);\n\n\t\t\tutils.removeEvent(window, 'touchmove', this);\n\t\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n\t\t\tutils.removeEvent(window, 'mousemove', this);\n\n\t\t\tutils.removeEvent(window, 'touchend', this);\n\t\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointerup'), this);\n\t\t\tutils.removeEvent(window, 'mouseup', this);\n\t\t}\n\n\t\tif ( this.options.defaultScrollbars && this.wrapper.parentNode ) {\n\t\t\tthis.wrapper.parentNode.removeChild(this.wrapper);\n\t\t}\n\t},\n\n\t_start: function (e) {\n\t\tvar point = e.touches ? e.touches[0] : e;\n\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tthis.transitionTime();\n\n\t\tthis.initiated = true;\n\t\tthis.moved = false;\n\t\tthis.lastPointX\t= point.pageX;\n\t\tthis.lastPointY\t= point.pageY;\n\n\t\tthis.startTime\t= utils.getTime();\n\n\t\tif ( !this.options.disableTouch ) {\n\t\t\tutils.addEvent(window, 'touchmove', this);\n\t\t}\n\t\tif ( !this.options.disablePointer ) {\n\t\t\tutils.addEvent(window, utils.prefixPointerEvent('pointermove'), this);\n\t\t}\n\t\tif ( !this.options.disableMouse ) {\n\t\t\tutils.addEvent(window, 'mousemove', this);\n\t\t}\n\n\t\tthis.scroller._execEvent('beforeScrollStart');\n\t},\n\n\t_move: function (e) {\n\t\tvar point = e.touches ? e.touches[0] : e,\n\t\t\tdeltaX, deltaY,\n\t\t\tnewX, newY,\n\t\t\ttimestamp = utils.getTime();\n\n\t\tif ( !this.moved ) {\n\t\t\tthis.scroller._execEvent('scrollStart');\n\t\t}\n\n\t\tthis.moved = true;\n\n\t\tdeltaX = point.pageX - this.lastPointX;\n\t\tthis.lastPointX = point.pageX;\n\n\t\tdeltaY = point.pageY - this.lastPointY;\n\t\tthis.lastPointY = point.pageY;\n\n\t\tnewX = this.x + deltaX;\n\t\tnewY = this.y + deltaY;\n\n\t\tthis._pos(newX, newY);\n\n// INSERT POINT: indicator._move\n\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t},\n\n\t_end: function (e) {\n\t\tif ( !this.initiated ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.initiated = false;\n\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tutils.removeEvent(window, 'touchmove', this);\n\t\tutils.removeEvent(window, utils.prefixPointerEvent('pointermove'), this);\n\t\tutils.removeEvent(window, 'mousemove', this);\n\n\t\tif ( this.scroller.options.snap ) {\n\t\t\tvar snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n\t\t\tvar time = this.options.snapSpeed || Math.max(\n\t\t\t\t\tMath.max(\n\t\t\t\t\t\tMath.min(Math.abs(this.scroller.x - snap.x), 1000),\n\t\t\t\t\t\tMath.min(Math.abs(this.scroller.y - snap.y), 1000)\n\t\t\t\t\t), 300);\n\n\t\t\tif ( this.scroller.x != snap.x || this.scroller.y != snap.y ) {\n\t\t\t\tthis.scroller.directionX = 0;\n\t\t\t\tthis.scroller.directionY = 0;\n\t\t\t\tthis.scroller.currentPage = snap;\n\t\t\t\tthis.scroller.scrollTo(snap.x, snap.y, time, this.scroller.options.bounceEasing);\n\t\t\t}\n\t\t}\n\n\t\tif ( this.moved ) {\n\t\t\tthis.scroller._execEvent('scrollEnd');\n\t\t}\n\t},\n\n\ttransitionTime: function (time) {\n\t\ttime = time || 0;\n\t\tvar durationProp = utils.style.transitionDuration;\n\t\tif(!durationProp) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.indicatorStyle[durationProp] = time + 'ms';\n\n\t\tif ( !time && utils.isBadAndroid ) {\n\t\t\tthis.indicatorStyle[durationProp] = '0.0001ms';\n\t\t\t// remove 0.0001ms\n\t\t\tvar self = this;\n\t\t\trAF(function() {\n\t\t\t\tif(self.indicatorStyle[durationProp] === '0.0001ms') {\n\t\t\t\t\tself.indicatorStyle[durationProp] = '0s';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\ttransitionTimingFunction: function (easing) {\n\t\tthis.indicatorStyle[utils.style.transitionTimingFunction] = easing;\n\t},\n\n\trefresh: function () {\n\t\tthis.transitionTime();\n\n\t\tif ( this.options.listenX && !this.options.listenY ) {\n\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll ? 'block' : 'none';\n\t\t} else if ( this.options.listenY && !this.options.listenX ) {\n\t\t\tthis.indicatorStyle.display = this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t} else {\n\t\t\tthis.indicatorStyle.display = this.scroller.hasHorizontalScroll || this.scroller.hasVerticalScroll ? 'block' : 'none';\n\t\t}\n\n\t\tif ( this.scroller.hasHorizontalScroll && this.scroller.hasVerticalScroll ) {\n\t\t\tutils.addClass(this.wrapper, 'iScrollBothScrollbars');\n\t\t\tutils.removeClass(this.wrapper, 'iScrollLoneScrollbar');\n\n\t\t\tif ( this.options.defaultScrollbars && this.options.customStyle ) {\n\t\t\t\tif ( this.options.listenX ) {\n\t\t\t\t\tthis.wrapper.style.right = '8px';\n\t\t\t\t} else {\n\t\t\t\t\tthis.wrapper.style.bottom = '8px';\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tutils.removeClass(this.wrapper, 'iScrollBothScrollbars');\n\t\t\tutils.addClass(this.wrapper, 'iScrollLoneScrollbar');\n\n\t\t\tif ( this.options.defaultScrollbars && this.options.customStyle ) {\n\t\t\t\tif ( this.options.listenX ) {\n\t\t\t\t\tthis.wrapper.style.right = '2px';\n\t\t\t\t} else {\n\t\t\t\t\tthis.wrapper.style.bottom = '2px';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tutils.getRect(this.wrapper);\t// force refresh\n\n\t\tif ( this.options.listenX ) {\n\t\t\tthis.wrapperWidth = this.wrapper.clientWidth;\n\t\t\tif ( this.options.resize ) {\n\t\t\t\tthis.indicatorWidth = Math.max(Math.round(this.wrapperWidth * this.wrapperWidth / (this.scroller.scrollerWidth || this.wrapperWidth || 1)), 8);\n\t\t\t\tthis.indicatorStyle.width = this.indicatorWidth + 'px';\n\t\t\t} else {\n\t\t\t\tthis.indicatorWidth = this.indicator.clientWidth;\n\t\t\t}\n\n\t\t\tthis.maxPosX = this.wrapperWidth - this.indicatorWidth;\n\n\t\t\tif ( this.options.shrink == 'clip' ) {\n\t\t\t\tthis.minBoundaryX = -this.indicatorWidth + 8;\n\t\t\t\tthis.maxBoundaryX = this.wrapperWidth - 8;\n\t\t\t} else {\n\t\t\t\tthis.minBoundaryX = 0;\n\t\t\t\tthis.maxBoundaryX = this.maxPosX;\n\t\t\t}\n\n\t\t\tthis.sizeRatioX = this.options.speedRatioX || (this.scroller.maxScrollX && (this.maxPosX / this.scroller.maxScrollX));\n\t\t}\n\n\t\tif ( this.options.listenY ) {\n\t\t\tthis.wrapperHeight = this.wrapper.clientHeight;\n\t\t\tif ( this.options.resize ) {\n\t\t\t\tthis.indicatorHeight = Math.max(Math.round(this.wrapperHeight * this.wrapperHeight / (this.scroller.scrollerHeight || this.wrapperHeight || 1)), 8);\n\t\t\t\tthis.indicatorStyle.height = this.indicatorHeight + 'px';\n\t\t\t} else {\n\t\t\t\tthis.indicatorHeight = this.indicator.clientHeight;\n\t\t\t}\n\n\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\n\t\t\tif ( this.options.shrink == 'clip' ) {\n\t\t\t\tthis.minBoundaryY = -this.indicatorHeight + 8;\n\t\t\t\tthis.maxBoundaryY = this.wrapperHeight - 8;\n\t\t\t} else {\n\t\t\t\tthis.minBoundaryY = 0;\n\t\t\t\tthis.maxBoundaryY = this.maxPosY;\n\t\t\t}\n\n\t\t\tthis.maxPosY = this.wrapperHeight - this.indicatorHeight;\n\t\t\tthis.sizeRatioY = this.options.speedRatioY || (this.scroller.maxScrollY && (this.maxPosY / this.scroller.maxScrollY));\n\t\t}\n\n\t\tthis.updatePosition();\n\t},\n\n\tupdatePosition: function () {\n\t\tvar x = this.options.listenX && Math.round(this.sizeRatioX * this.scroller.x) || 0,\n\t\t\ty = this.options.listenY && Math.round(this.sizeRatioY * this.scroller.y) || 0;\n\n\t\tif ( !this.options.ignoreBoundaries ) {\n\t\t\tif ( x < this.minBoundaryX ) {\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\n\t\t\t\t\tthis.width = Math.max(this.indicatorWidth + x, 8);\n\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\t}\n\t\t\t\tx = this.minBoundaryX;\n\t\t\t} else if ( x > this.maxBoundaryX ) {\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\n\t\t\t\t\tthis.width = Math.max(this.indicatorWidth - (x - this.maxPosX), 8);\n\t\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t\t\tx = this.maxPosX + this.indicatorWidth - this.width;\n\t\t\t\t} else {\n\t\t\t\t\tx = this.maxBoundaryX;\n\t\t\t\t}\n\t\t\t} else if ( this.options.shrink == 'scale' && this.width != this.indicatorWidth ) {\n\t\t\t\tthis.width = this.indicatorWidth;\n\t\t\t\tthis.indicatorStyle.width = this.width + 'px';\n\t\t\t}\n\n\t\t\tif ( y < this.minBoundaryY ) {\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\n\t\t\t\t\tthis.height = Math.max(this.indicatorHeight + y * 3, 8);\n\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\t}\n\t\t\t\ty = this.minBoundaryY;\n\t\t\t} else if ( y > this.maxBoundaryY ) {\n\t\t\t\tif ( this.options.shrink == 'scale' ) {\n\t\t\t\t\tthis.height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, 8);\n\t\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t\t\ty = this.maxPosY + this.indicatorHeight - this.height;\n\t\t\t\t} else {\n\t\t\t\t\ty = this.maxBoundaryY;\n\t\t\t\t}\n\t\t\t} else if ( this.options.shrink == 'scale' && this.height != this.indicatorHeight ) {\n\t\t\t\tthis.height = this.indicatorHeight;\n\t\t\t\tthis.indicatorStyle.height = this.height + 'px';\n\t\t\t}\n\t\t}\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\tif ( this.scroller.options.useTransform ) {\n\t\t\tthis.indicatorStyle[utils.style.transform] = 'translate(' + x + 'px,' + y + 'px)' + this.scroller.translateZ;\n\t\t} else {\n\t\t\tthis.indicatorStyle.left = x + 'px';\n\t\t\tthis.indicatorStyle.top = y + 'px';\n\t\t}\n\t},\n\n\t_pos: function (x, y) {\n\t\tif ( x < 0 ) {\n\t\t\tx = 0;\n\t\t} else if ( x > this.maxPosX ) {\n\t\t\tx = this.maxPosX;\n\t\t}\n\n\t\tif ( y < 0 ) {\n\t\t\ty = 0;\n\t\t} else if ( y > this.maxPosY ) {\n\t\t\ty = this.maxPosY;\n\t\t}\n\n\t\tx = this.options.listenX ? Math.round(x / this.sizeRatioX) : this.scroller.x;\n\t\ty = this.options.listenY ? Math.round(y / this.sizeRatioY) : this.scroller.y;\n\n\t\tthis.scroller.scrollTo(x, y);\n\t},\n\n\tfade: function (val, hold) {\n\t\tif ( hold && !this.visible ) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout(this.fadeTimeout);\n\t\tthis.fadeTimeout = null;\n\n\t\tvar time = val ? 250 : 500,\n\t\t\tdelay = val ? 0 : 300;\n\n\t\tval = val ? '1' : '0';\n\n\t\tthis.wrapperStyle[utils.style.transitionDuration] = time + 'ms';\n\n\t\tthis.fadeTimeout = setTimeout((function (val) {\n\t\t\tthis.wrapperStyle.opacity = val;\n\t\t\tthis.visible = +val;\n\t\t}).bind(this, val), delay);\n\t}\n};\n\nIScroll.utils = utils;\n\nif ( typeof module != 'undefined' && module.exports ) {\n\tmodule.exports = IScroll;\n} else if ( typeof define == 'function' && define.amd ) {\n        define( function () { return IScroll; } );\n} else {\n\twindow.IScroll = IScroll;\n}\n\n})(window, document, Math);\n"]}