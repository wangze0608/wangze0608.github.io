{"version":3,"sources":["../../../../vue/qctt/build/check-versions.js"],"names":["chalk","require","semver","packageConfig","shell","exec","cmd","execSync","toString","trim","versionRequirements","name","currentVersion","clean","process","version","versionRequirement","engines","node","which","push","npm","module","exports","warnings","i","length","mod","satisfies","red","green","console","log","yellow","warning","exit"],"mappings":"AAAA;;AACA,IAAMA,QAAQC,QAAQ,OAAR,CAAd;AACA,IAAMC,SAASD,QAAQ,QAAR,CAAf;AACA,IAAME,gBAAgBF,QAAQ,iBAAR,CAAtB;AACA,IAAMG,QAAQH,QAAQ,SAAR,CAAd;AACA,SAASI,IAAT,CAAeC,GAAf,EAAoB;AAClB,SAAOL,QAAQ,eAAR,EAAyBM,QAAzB,CAAkCD,GAAlC,EAAuCE,QAAvC,GAAkDC,IAAlD,EAAP;AACD;;AAED,IAAMC,sBAAsB,CAC1B;AACEC,QAAM,MADR;AAEEC,kBAAgBV,OAAOW,KAAP,CAAaC,QAAQC,OAArB,CAFlB;AAGEC,sBAAoBb,cAAcc,OAAd,CAAsBC;AAH5C,CAD0B,CAA5B;;AAQA,IAAId,MAAMe,KAAN,CAAY,KAAZ,CAAJ,EAAwB;AACtBT,sBAAoBU,IAApB,CAAyB;AACvBT,UAAM,KADiB;AAEvBC,oBAAgBP,KAAK,eAAL,CAFO;AAGvBW,wBAAoBb,cAAcc,OAAd,CAAsBI;AAHnB,GAAzB;AAKD;;AAEDC,OAAOC,OAAP,GAAiB,YAAY;AAC3B,MAAMC,WAAW,EAAjB;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIf,oBAAoBgB,MAAxC,EAAgDD,GAAhD,EAAqD;AACnD,QAAME,MAAMjB,oBAAoBe,CAApB,CAAZ;AACA,QAAI,CAACvB,OAAO0B,SAAP,CAAiBD,IAAIf,cAArB,EAAqCe,IAAIX,kBAAzC,CAAL,EAAmE;AACjEQ,eAASJ,IAAT,CAAcO,IAAIhB,IAAJ,GAAW,IAAX,GACZX,MAAM6B,GAAN,CAAUF,IAAIf,cAAd,CADY,GACoB,aADpB,GAEZZ,MAAM8B,KAAN,CAAYH,IAAIX,kBAAhB,CAFF;AAID;AACF;;AAED,MAAIQ,SAASE,MAAb,EAAqB;AACnBK,YAAQC,GAAR,CAAY,EAAZ;AACAD,YAAQC,GAAR,CAAYhC,MAAMiC,MAAN,CAAa,6DAAb,CAAZ;AACAF,YAAQC,GAAR;AACA,SAAK,IAAIP,KAAI,CAAb,EAAgBA,KAAID,SAASE,MAA7B,EAAqCD,IAArC,EAA0C;AACxC,UAAMS,UAAUV,SAASC,EAAT,CAAhB;AACAM,cAAQC,GAAR,CAAY,OAAOE,OAAnB;AACD;AACDH,YAAQC,GAAR;AACAlB,YAAQqB,IAAR,CAAa,CAAb;AACD;AACF,CAvBD","file":"check-versions.js","sourcesContent":["'use strict'\nconst chalk = require('chalk')\nconst semver = require('semver')\nconst packageConfig = require('../package.json')\nconst shell = require('shelljs')\nfunction exec (cmd) {\n  return require('child_process').execSync(cmd).toString().trim()\n}\n\nconst versionRequirements = [\n  {\n    name: 'node',\n    currentVersion: semver.clean(process.version),\n    versionRequirement: packageConfig.engines.node\n  }\n]\n\nif (shell.which('npm')) {\n  versionRequirements.push({\n    name: 'npm',\n    currentVersion: exec('npm --version'),\n    versionRequirement: packageConfig.engines.npm\n  })\n}\n\nmodule.exports = function () {\n  const warnings = []\n  for (let i = 0; i < versionRequirements.length; i++) {\n    const mod = versionRequirements[i]\n    if (!semver.satisfies(mod.currentVersion, mod.versionRequirement)) {\n      warnings.push(mod.name + ': ' +\n        chalk.red(mod.currentVersion) + ' should be ' +\n        chalk.green(mod.versionRequirement)\n      )\n    }\n  }\n\n  if (warnings.length) {\n    console.log('')\n    console.log(chalk.yellow('To use this template, you must update following to modules:'))\n    console.log()\n    for (let i = 0; i < warnings.length; i++) {\n      const warning = warnings[i]\n      console.log('  ' + warning)\n    }\n    console.log()\n    process.exit(1)\n  }\n}\n"]}